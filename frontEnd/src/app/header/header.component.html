<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Header PCComponentes</title>
  <link rel="stylesheet" href="header.component.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
  <header>
    <div class="overlay" [ngClass]="{'open': menuOpen || cartMenuOpen}" (click)="closeMenus()"></div>

    <!-- Logo -->
    <div class="logo">
      <a routerLink="/">
        <img src="logo-pccomponentes.svg" alt="Logo PCComponentes">
    </a>
    </div>

    <!-- Menú de categorías con íconos -->
    <div class="categories" (click)="toggleMenu()">
      <button class="hamburger" (click)="toggleMenu()">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </button>
      <a href="#">Todas las categorías</a>
    </div>

    <!-- Menú lateral -->
    <div class="side-menu" [ngClass]="{'open': menuOpen}">
      <div class="side-menu-content">
        <button class="close-btn" (click)="toggleMenu()">X</button>
        <h2>Categorías</h2>
        <ul>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M7 2h2v4H7zM11 2h2v4h-2zM15 2h2v4h-2zM7 18h2v4H7zM11 18h2v4h-2zM15 18h2v4h-2zM18 7h4v2h-4zM18 11h4v2h-4zM18 15h4v2h-4zM2 7h4v2H2zM2 11h4v2H2zM2 15h4v2H2zM15 17H9c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2zM9 9v6h6V9H9z">
              </path>
            </svg>
            <a>Componentes</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M21 5h-3c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-3 12V7h3v10h-3zM13 5H3c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h4v1H5v2h6v-2H9v-1h4c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM3 14V7h10v7H3z">
              </path>
            </svg>
            <a>Ordenadores</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M14 6h1c1.7 0 3-1.3 3-3V2h-2v1c0 .6-.4 1-1 1h-1c-1.7 0-3 1.3-3 3v1H8c-1.1 0-2 .9-2 2v7c0 3.3 2.7 6 6 6s6-2.7 6-6v-7c0-1.1-.9-2-2-2h-3V7c0-.6.4-1 1-1zm-3 4v3H8v-3h3zm1 11c-2.2 0-4-1.8-4-4v-2h8v2c0 2.2-1.8 4-4 4zm4-11v3h-3v-3h3z">
              </path>
            </svg>
            <a>Periféricos</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M18 9c-1.1 0-2.1.3-3 .8V8c0-.6-.4-1-1-1h-1V5c0-2.2-1.8-4-4-4H4v2h5c1.1 0 2 .9 2 2v2h-1c-.6 0-1 .4-1 1v1.8C8.1 9.3 7.1 9 6 9c-3.3 0-6 2.7-6 6s2.7 6 6 6c1.2 0 2.3-.3 3.3-1h5.4c1 .7 2.1 1 3.3 1 3.3 0 6-2.7 6-6s-2.7-6-6-6zm-7 0h2v1h-2V9zm7 10c-.9 0-1.7-.3-2.4-.8-.2-.1-.4-.2-.6-.2H9c-.2 0-.4.1-.6.2-.7.5-1.6.8-2.4.8-2.2 0-4-1.8-4-4s1.8-4 4-4c.8 0 1.7.3 2.4.8.1.1.4.2.6.2h6c.2 0 .4-.1.6-.2.7-.5 1.5-.8 2.4-.8 2.2 0 4 1.8 4 4s-1.8 4-4 4z">
              </path>
              <circle cx="18" cy="13" r="1"></circle>
              <circle cx="18" cy="17" r="1"></circle>
              <circle cx="20" cy="15" r="1"></circle>
              <circle cx="16" cy="15" r="1"></circle>
              <path d="M7 12H5v2H3v2h2v2h2v-2h2v-2H7z"></path>
            </svg>
            <a>Gaming y videojuegos</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M16 2H8c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 2v2H8V4h8zm0 4v8H8V8h8zM8 20v-2h8v2H8z">
              </path>
            </svg>
            <a>Smartphones y tablets</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M22 2H2C.9 2 0 2.9 0 4v12c0 1.1.9 2 2 2h2.6l-2.3 2.3c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L7.4 18h9.2l3.7 3.7c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L19.4 18H22c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM2 16V4h20v12H2z">
              </path>
            </svg>
            <a>Televisores</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M17 2H7c-1.1 0-2 .9-2 2v15c0 .7.4 1.4 1 1.7V22h2v-1h8v1h2v-1.3c.6-.3 1-1 1-1.7V4c0-1.1-.9-2-2-2zm0 2v5H7V4h10zm0 15H7v-8h10v8z">
              </path>
              <path d="M8 5h2v3H8zM8 12h2v4H8z"></path>
            </svg>
            <a>Electrodomésticos</a>
          </li>
          <li>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M21 7V2h-2v5H5V2H3v5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-2 14H5V9h14v12z">
              </path>
            </svg>
            <a>Audio</a>
          </li>
        </ul>

      </div>
    </div>

    <!-- Desplegable "Todo el catálogo" / "Reacondicionado" -->
    <div class="catalog-dropdown">
      <select name="catalog" id="catalog">
        <option value="todo">Todo el catálogo</option>
        <option value="reacondicionado">Reacondicionado</option>
      </select>
    </div>

    <!-- Barra de búsqueda, implementar funcionalidad -->
    <div class="search-bar">
      <input type="text" placeholder="Buscar">
      <button><i class="fas fa-search"></i></button>
    </div>

    <!-- Si el usuario está logueado, muestra su email; de lo contrario, muestra 'Mi cuenta' -->
    <div class="account" (click)="onMiCuentaClick()">
      <i class="fas fa-user"></i>
      <span> {{ authService.isLoggedIn() ? authService.getUserEmail() : 'Mi cuenta' }}</span>
    </div>

    <!-- Menú lateral si el usuario está logueado -->
    <div *ngIf="authService.isLoggedIn() && menuAbierto" class="menu-lateral">
      <ul>
        <li><a routerLink="/perfil">Mi perfil</a></li>
        <li><a routerLink="/configuracion">Configuración</a></li>
        <li><a (click)="authService.logout()">Cerrar sesión</a></li>
      </ul>
    </div>

    <!-- Mi cesta -->
    <div class="cart" id="cartMenuButton" (click)="toggleCartMenu()">
      <i class="fas fa-shopping-cart"></i>
      <span>Mi cesta</span>
    </div>

    <!-- Menú lateral de la cesta -->
    <div class="cart-menu" [ngClass]="{'open': cartMenuOpen}">
      <div class="cart-menu-header">
        <span class="cart-title">Mi cesta</span>
        <button class="close-btnC" (click)="toggleCartMenu()">X</button>
      </div>
      <div class="cart-content">
        <img src="lensPickingPointsNoPostalCodeFound.svg" alt="Imagen SVG Lupa Carrito" class="cart-image">
        <p class="cart-text">Tu carrito está vacío</p>
        <p class="cart-text">Explora multitud de artículos a buen precio desde nuestra página principal</p>
        <button class="go-home-btn" click="window.location.href='/'">Explorar artículos</button>
      </div>

    </div>
  </header>
</body>

</html>